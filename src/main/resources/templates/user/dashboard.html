<!DOCTYPE html>
<html lang="en" th:replace="~{base :: parent(~{::#content}, ~{::title}, ~{::script})}" class="dark">

<head>
    <title th:text="${loggedInUser.name} + ' | Dashboard'">Dashboard</title>
    <script>
        // Check saved theme on page load
        if (localStorage.getItem('theme') === 'dark') {
            document.documentElement.classList.add('dark');
        } else {
            document.documentElement.classList.remove('dark');
        }
    </script>
</head>

<body class="bg-gray-100 text-gray-900 dark:bg-gray-900 dark:text-gray-100 transition-colors duration-300">
    <div id="content">

        <!-- Sidebar if user is logged in -->
        <div th:if="${loggedInUser}">
            <div th:replace="~{user/sidebar :: sidebar}"></div>
        </div>

        <!-- Main Content -->
        <div class="sm:pl-64 pt-20 min-h-screen">
            <div class="flex flex-col items-center px-4">

              

                <h1 class="text-5xl font-extrabold mb-2 text-blue-700 dark:text-blue-300 tracking-tight">
                    Welcome, <span th:text="${loggedInUser.name}">User</span> ðŸ‘‹
                </h1>
                <!-- <p class="text-lg text-gray-600 dark:text-gray-400 text-center mb-6 max-w-xl">
                    Organize. Remember. Celebrate. Your people, your way.
                </p> -->
                <p class="text-lg text-gray-600 dark:text-gray-400 text-center mb-6 max-w-xl">
                    Your space to cherish connections, remember birthdays, and celebrate every story.
                </p>


                <!-- Birthday Section -->
                <div
                    class="birthday-section w-full max-w-2xl bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6 border border-gray-200 dark:border-gray-700">
                    <div class="flex items-center gap-2 mb-4">
                        <span class="text-3xl">ðŸŽ‰</span>
                        <h2 class="text-2xl font-bold text-indigo-700 dark:text-indigo-300">Upcoming Birthdays</h2>
                    </div>

                    <!-- No Birthdays -->
                    <div th:if="${#lists.isEmpty(upcomingBirthdays)}"
                        class="bg-gray-50 dark:bg-gray-700 p-4 rounded-lg text-center text-gray-500 dark:text-gray-300">
                        <p>No upcoming birthdays in the next 30 days. ðŸŽ‚</p>
                    </div>

                    <!-- Show Birthdays -->
                    <div th:if="${not #lists.isEmpty(upcomingBirthdays)}">
                        <ul class="space-y-4">
                            <li th:each="contact : ${upcomingBirthdays}"
                                class="flex items-center justify-between p-4 rounded-lg shadow-sm hover:shadow-md transition bg-gradient-to-r from-purple-50 to-blue-50 dark:from-gray-700 dark:to-gray-600 border border-gray-200 dark:border-gray-700">

                                <!-- Name & Birthday -->
                                <div>
                                    <span class="block font-semibold text-lg text-blue-900 dark:text-blue-200"
                                        th:text="${contact.name}">Contact Name</span>
                                    <span class="text-sm text-purple-700 dark:text-purple-300 font-medium"
                                        th:text="${#temporals.format(contact.birthday, 'dd MMMM')}">Birthdate</span>
                                </div>

                                <!-- ðŸŽ‚ Icon -->
                                <div class="text-2xl">ðŸŽ‚</div>
                            </li>
                        </ul>
                    </div>
                </div>

            </div>
        </div>
    </div>
    
</body>

</html>